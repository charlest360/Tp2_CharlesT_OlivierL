{"remainingRequest":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\carlo\\Documents\\TP2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\carlo\\Documents\\TP2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\carlo\\Documents\\TP2\\src\\components\\FilmList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\carlo\\Documents\\TP2\\src\\components\\FilmList.vue","mtime":1588555807231},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9Vc2Vycy9jYXJsby9Eb2N1bWVudHMvVFAyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgovKg0KPHVsIGNsYXNzPSJmaWxtcyI+DQogICAgICAgICAgICA8aDE+e3tyZXN1bHQubWV0YS50b3RhbH19IHJlc3VsdHMgZm91bmRzPC9oMT4NCiAgICAgICAgICAgIDx1bD4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxtTGlzdExpIiB2LWZvcj0ibW92aWUgaW4gc29ydGVkUmVzdWx0cyIgOmtleT0ibW92aWUuaWQiPiA8ZmlsbS1saXN0LWRldGFpbHMgOmZpbG1JZD0ibW92aWUuaWQiIC8+IDwvZGl2Pg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgPC91bD4NCiAgICANCiAgICAgICAgICAgIA0KICAgICAgICA8L3VsPg0KKi8KaW1wb3J0IEZpbG1TZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvRmlsbVNlcnZpY2UuanMnOwppbXBvcnQgRmlsbUltYWdlIGZyb20gJ0AvY29tcG9uZW50cy9GaWxtSW1hZ2UudnVlJzsKaW1wb3J0IEZpbG1UaXRsZSBmcm9tICdAL2NvbXBvbmVudHMvRmlsbVRpdGxlLnZ1ZSc7CmltcG9ydCBGaWxtWWVhciBmcm9tICdAL2NvbXBvbmVudHMvRmlsbVllYXIudnVlJzsKaW1wb3J0IEZpbG1SZXZpZXdEaXNwbGF5IGZyb20gJ0AvY29tcG9uZW50cy9GaWxtUmV2aWV3RGlzcGxheS52dWUnOwppbXBvcnQgRmlsbURlc2NyaXB0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9GaWxtRGVzY3JpcHRpb24udnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBrZXl3b3JkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBjbGlja2VkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBGaWxtSW1hZ2U6IEZpbG1JbWFnZSwKICAgIEZpbG1UaXRsZTogRmlsbVRpdGxlLAogICAgRmlsbVllYXI6IEZpbG1ZZWFyLAogICAgRmlsbVJldmlld0Rpc3BsYXk6IEZpbG1SZXZpZXdEaXNwbGF5LAogICAgRmlsbURlc2NyaXB0aW9uOiBGaWxtRGVzY3JpcHRpb24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXN1bHQ6IEFycmF5LAogICAgICBwYWdlTnVtYmVyOiAxLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgc29ydGVkUmVzdWx0czoge30KICAgIH07CiAgfSwKICB3YXRjaDogewogICAga2V5d29yZDogZnVuY3Rpb24ga2V5d29yZCgpIHsKICAgICAgdGhpcy5mZXRjaFJlc3VsdHMoKTsKICAgIH0sCiAgICBwYWdlTnVtYmVyOiBmdW5jdGlvbiBwYWdlTnVtYmVyKCkgewogICAgICB0aGlzLmZldGNoUmVzdWx0cygpOwogICAgfSwKICAgIGNsaWNrZWQ6IGZ1bmN0aW9uIGNsaWNrZWQoKSB7CiAgICAgIHRoaXMucGFnZU51bWJlciA9IDE7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaFJlc3VsdHM6IGZ1bmN0aW9uIGZldGNoUmVzdWx0cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIEZpbG1TZXJ2aWNlLmdldEZpbG1zQnlLZXl3b3JkKHRoaXMua2V5d29yZCwgdGhpcy5wYWdlTnVtYmVyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIF90aGlzLnNvcnRSZXN1bHRzKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLmVycm9yID0gZXJyb3I7CiAgICAgIH0pOwogICAgfSwKICAgIHNvcnRSZXN1bHRzOiBmdW5jdGlvbiBzb3J0UmVzdWx0cygpIHsKICAgICAgdGhpcy5zb3J0ZWRSZXN1bHRzID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMucmVzdWx0LmRhdGEpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICB2YXIgbW9kaWZpZXIgPSAtMTsKICAgICAgICBpZiAoYS5yZWxlYXNlX3llYXIgPCBiLnJlbGVhc2VfeWVhcikgcmV0dXJuIC0xICogbW9kaWZpZXI7CiAgICAgICAgaWYgKGEucmVsZWFzZV95ZWFyID4gYi5yZWxlYXNlX3llYXIpIHJldHVybiAxICogbW9kaWZpZXI7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dGaWxtUGFnZTogZnVuY3Rpb24gc2hvd0ZpbG1QYWdlKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvZmlsbXMvJyArIGlkKTsKICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICB9LAogICAgbmV4dFBhZ2VOdW1iZXI6IGZ1bmN0aW9uIG5leHRQYWdlTnVtYmVyKCkgewogICAgICAvL2lmKHRoaXMucGFnZU51bWJlciA8IG5iUGFnZXNSZXN1bHQpIHsKICAgICAgdGhpcy5wYWdlTnVtYmVyKys7IC8vfQogICAgfSwKICAgIHByZXZpb3VzUGFnZU51bWJlcjogZnVuY3Rpb24gcHJldmlvdXNQYWdlTnVtYmVyKCkgewogICAgICB0aGlzLnBhZ2VOdW1iZXItLTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBuYlBhZ2VzUmVzdWx0OiBmdW5jdGlvbiBuYlBhZ2VzUmVzdWx0KCkgewogICAgICByZXR1cm4gdGhpcy5yZXN1bHQubWV0YS5sYXN0X3BhZ2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["FilmList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;;;;;;;;;;AAWA,OAAA,WAAA,MAAA,2BAAA;AACA,OAAA,SAAA,MAAA,4BAAA;AACA,OAAA,SAAA,MAAA,4BAAA;AACA,OAAA,QAAA,MAAA,2BAAA;AACA,OAAA,iBAAA,MAAA,oCAAA;AACA,OAAA,eAAA,MAAA,kCAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KADA;AAMA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AANA,GADA;AAYA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,SAAA,EAAA,SAFA;AAGA,IAAA,QAAA,EAAA,QAHA;AAIA,IAAA,iBAAA,EAAA,iBAJA;AAKA,IAAA,eAAA,EAAA;AALA,GAZA;AAmBA,EAAA,IAnBA,kBAmBA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,CAFA;AAGA,MAAA,KAAA,EAAA,IAHA;AAIA,MAAA,aAAA,EAAA;AAJA,KAAA;AAOA,GA3BA;AA4BA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA,mBAAA;AACA,WAAA,YAAA;AACA,KAHA;AAIA,IAAA,UAAA,EAAA,sBAAA;AACA,WAAA,YAAA;AACA,KANA;AAOA,IAAA,OAAA,EAAA,mBAAA;AACA,WAAA,UAAA,GAAA,CAAA;AACA;AATA,GA5BA;AAuCA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,MAAA,WAAA,CAAA,iBAAA,CAAA,KAAA,OAAA,EAAA,KAAA,UAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,WAAA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AACA,OAPA;AAQA,KAVA;AAWA,IAAA,WAXA,yBAWA;AACA,WAAA,aAAA,GAAA,mBAAA,KAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,YAAA,QAAA,GAAA,CAAA,CAAA;AACA,YAAA,CAAA,CAAA,YAAA,GAAA,CAAA,CAAA,YAAA,EAAA,OAAA,CAAA,CAAA,GAAA,QAAA;AACA,YAAA,CAAA,CAAA,YAAA,GAAA,CAAA,CAAA,YAAA,EAAA,OAAA,IAAA,QAAA;AACA,eAAA,CAAA;AACA,OALA,CAAA;AAMA,KAlBA;AAmBA,IAAA,YAnBA,wBAmBA,EAnBA,EAmBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,YAAA,EAAA;AACA,WAAA,OAAA,CAAA,EAAA;AACA,KAtBA;AAuBA,IAAA,cAvBA,4BAuBA;AACA;AACA,WAAA,UAAA,GAFA,CAGA;AACA,KA3BA;AA4BA,IAAA,kBA5BA,gCA4BA;AACA,WAAA,UAAA;AACA;AA9BA,GAvCA;AAuEA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,CAAA,SAAA;AACA;AAHA;AAvEA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <section v-if=\"result.meta.total ==0\">\r\n            <h1>No match was found for \"{{keyword}}\"</h1>     \r\n        </section>\r\n        <section v-else>\r\n            <h1>{{result.meta.total}} matches were found for \"{{keyword}}\"   </h1>\r\n            <button v-if=\"pageNumber > 1\" @click=\"previousPageNumber\" > Previous page </button>\r\n            <button v-if=\"pageNumber < nbPagesResult\" @click=\"nextPageNumber\" > Next page </button>\r\n            <ul class=\"filmList\" v-for=\"movie in sortedResults\" :key=\"movie.id\">\r\n                <li  class=\"filmTitle\" > <h2> <film-title :filmInfos=\"movie\" /></h2>  </li>\r\n                <li class=\"filmImages\" > <film-image :filmInfos=\"movie\" :width=\"200\" :height=\"200\" />  </li>\r\n                <li> (<film-year :filmInfos=\"movie\" />) </li> \r\n                <li id=\"rating\"> <film-review-display :filmInfos=\"movie\" /> </li>\r\n                <li> <film-description :filmInfos=\"movie\" :nbCharToDisplay=\"100\" /> </li>\r\n                <li><button id=\"filmButton\" class=\"filmPageButton\" @click=\"showFilmPage(movie.id)\">Consulter ce film </button></li>\r\n            </ul>\r\n            \r\n        </section>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n/*\r\n<ul class=\"films\">\r\n            <h1>{{result.meta.total}} results founds</h1>\r\n            <ul>\r\n                <div class=\"filmListLi\" v-for=\"movie in sortedResults\" :key=\"movie.id\"> <film-list-details :filmId=\"movie.id\" /> </div>\r\n                \r\n            </ul>\r\n    \r\n            \r\n        </ul>\r\n*/\r\nimport FilmService from '@/services/FilmService.js';\r\nimport FilmImage from '@/components/FilmImage.vue';\r\nimport FilmTitle from '@/components/FilmTitle.vue';\r\nimport FilmYear from '@/components/FilmYear.vue';\r\nimport FilmReviewDisplay from '@/components/FilmReviewDisplay.vue';\r\nimport FilmDescription from '@/components/FilmDescription.vue';\r\n    export default {\r\n        props: {\r\n            keyword: {\r\n                type: String,\r\n                default: null,\r\n                required : true\r\n            },\r\n            clicked : {\r\n                type: Boolean,\r\n                default: false\r\n            }\r\n        },\r\n        components: {\r\n            FilmImage,\r\n            FilmTitle,\r\n            FilmYear,\r\n            FilmReviewDisplay,\r\n            FilmDescription\r\n        },\r\n        data() {\r\n            return {\r\n                result: Array,\r\n                pageNumber: 1,\r\n                error : null,\r\n                sortedResults : {}\r\n\r\n            }\r\n        },\r\n        watch: {\r\n            keyword : function() {   \r\n                this.fetchResults();         \r\n            },\r\n            pageNumber : function() {\r\n                this.fetchResults();\r\n            },\r\n            clicked : function(){\r\n                this.pageNumber =1;\r\n            }\r\n        },\r\n        methods: {\r\n            fetchResults() {\r\n                FilmService.getFilmsByKeyword(this.keyword,this.pageNumber)\r\n                .then(response => {\r\n                this.result = response.data;\r\n                this.sortResults();\r\n                })\r\n                .catch(error => {\r\n                this.error = error;\r\n                });\r\n            },\r\n            sortResults(){\r\n                this.sortedResults = [...this.result.data].sort((a,b) => {\r\n                        let modifier = -1;\r\n                        if(a.release_year < b.release_year) return -1 * modifier;\r\n                        if(a.release_year > b.release_year) return 1 * modifier;\r\n                        return 0;\r\n                })   \r\n            },\r\n            showFilmPage(id) {\r\n                this.$router.push('/films/'+id);\r\n                this.$router.go();\r\n            },\r\n            nextPageNumber(){\r\n                //if(this.pageNumber < nbPagesResult) {\r\n                    this.pageNumber++;\r\n                //}\r\n            },\r\n            previousPageNumber(){\r\n                this.pageNumber--;\r\n            }\r\n        },    \r\n        computed: {\r\n            nbPagesResult() {\r\n                return this.result.meta.last_page; \r\n            }\r\n        },\r\n    }   \r\n\r\n        \r\n\r\n        \r\n    \r\n</script>\r\n\r\n<style scoped>\r\n    ul\r\n{\r\n    list-style-type:none;\r\n    padding:0px;\r\n    margin:0px;\r\n}\r\n#filmButton  {\r\n    padding: 10px 40px 10px 40px;\r\n    font-weight: bold;\r\n    color: #E6B91E;\r\n    background-color: black;\r\n  }\r\n#filmRating{\r\n    padding-top: 15px;\r\n}\r\n#rating{\r\n    display: inline-block;\r\n    margin: auto;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}