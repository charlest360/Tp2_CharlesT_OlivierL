{"remainingRequest":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\carlo\\OneDrive\\Bureau\\test\\src\\components\\FilmList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\src\\components\\FilmList.vue","mtime":1588555807231},{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9Vc2Vycy9jYXJsby9PbmVEcml2ZS9CdXJlYXUvdGVzdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKLyoNCjx1bCBjbGFzcz0iZmlsbXMiPg0KICAgICAgICAgICAgPGgxPnt7cmVzdWx0Lm1ldGEudG90YWx9fSByZXN1bHRzIGZvdW5kczwvaDE+DQogICAgICAgICAgICA8dWw+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsbUxpc3RMaSIgdi1mb3I9Im1vdmllIGluIHNvcnRlZFJlc3VsdHMiIDprZXk9Im1vdmllLmlkIj4gPGZpbG0tbGlzdC1kZXRhaWxzIDpmaWxtSWQ9Im1vdmllLmlkIiAvPiA8L2Rpdj4NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIDwvdWw+DQogICAgDQogICAgICAgICAgICANCiAgICAgICAgPC91bD4NCiovCmltcG9ydCBGaWxtU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL0ZpbG1TZXJ2aWNlLmpzJzsKaW1wb3J0IEZpbG1JbWFnZSBmcm9tICdAL2NvbXBvbmVudHMvRmlsbUltYWdlLnZ1ZSc7CmltcG9ydCBGaWxtVGl0bGUgZnJvbSAnQC9jb21wb25lbnRzL0ZpbG1UaXRsZS52dWUnOwppbXBvcnQgRmlsbVllYXIgZnJvbSAnQC9jb21wb25lbnRzL0ZpbG1ZZWFyLnZ1ZSc7CmltcG9ydCBGaWxtUmV2aWV3RGlzcGxheSBmcm9tICdAL2NvbXBvbmVudHMvRmlsbVJldmlld0Rpc3BsYXkudnVlJzsKaW1wb3J0IEZpbG1EZXNjcmlwdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvRmlsbURlc2NyaXB0aW9uLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAga2V5d29yZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgY2xpY2tlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgRmlsbUltYWdlOiBGaWxtSW1hZ2UsCiAgICBGaWxtVGl0bGU6IEZpbG1UaXRsZSwKICAgIEZpbG1ZZWFyOiBGaWxtWWVhciwKICAgIEZpbG1SZXZpZXdEaXNwbGF5OiBGaWxtUmV2aWV3RGlzcGxheSwKICAgIEZpbG1EZXNjcmlwdGlvbjogRmlsbURlc2NyaXB0aW9uCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzdWx0OiBBcnJheSwKICAgICAgcGFnZU51bWJlcjogMSwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIHNvcnRlZFJlc3VsdHM6IHt9CiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGtleXdvcmQ6IGZ1bmN0aW9uIGtleXdvcmQoKSB7CiAgICAgIHRoaXMuZmV0Y2hSZXN1bHRzKCk7CiAgICB9LAogICAgcGFnZU51bWJlcjogZnVuY3Rpb24gcGFnZU51bWJlcigpIHsKICAgICAgdGhpcy5mZXRjaFJlc3VsdHMoKTsKICAgIH0sCiAgICBjbGlja2VkOiBmdW5jdGlvbiBjbGlja2VkKCkgewogICAgICB0aGlzLnBhZ2VOdW1iZXIgPSAxOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hSZXN1bHRzOiBmdW5jdGlvbiBmZXRjaFJlc3VsdHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBGaWxtU2VydmljZS5nZXRGaWxtc0J5S2V5d29yZCh0aGlzLmtleXdvcmQsIHRoaXMucGFnZU51bWJlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5yZXN1bHQgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICBfdGhpcy5zb3J0UmVzdWx0cygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpcy5lcnJvciA9IGVycm9yOwogICAgICB9KTsKICAgIH0sCiAgICBzb3J0UmVzdWx0czogZnVuY3Rpb24gc29ydFJlc3VsdHMoKSB7CiAgICAgIHRoaXMuc29ydGVkUmVzdWx0cyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnJlc3VsdC5kYXRhKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgdmFyIG1vZGlmaWVyID0gLTE7CiAgICAgICAgaWYgKGEucmVsZWFzZV95ZWFyIDwgYi5yZWxlYXNlX3llYXIpIHJldHVybiAtMSAqIG1vZGlmaWVyOwogICAgICAgIGlmIChhLnJlbGVhc2VfeWVhciA+IGIucmVsZWFzZV95ZWFyKSByZXR1cm4gMSAqIG1vZGlmaWVyOwogICAgICAgIHJldHVybiAwOwogICAgICB9KTsKICAgIH0sCiAgICBzaG93RmlsbVBhZ2U6IGZ1bmN0aW9uIHNob3dGaWxtUGFnZShpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2ZpbG1zLycgKyBpZCk7CiAgICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgfSwKICAgIG5leHRQYWdlTnVtYmVyOiBmdW5jdGlvbiBuZXh0UGFnZU51bWJlcigpIHsKICAgICAgLy9pZih0aGlzLnBhZ2VOdW1iZXIgPCBuYlBhZ2VzUmVzdWx0KSB7CiAgICAgIHRoaXMucGFnZU51bWJlcisrOyAvL30KICAgIH0sCiAgICBwcmV2aW91c1BhZ2VOdW1iZXI6IGZ1bmN0aW9uIHByZXZpb3VzUGFnZU51bWJlcigpIHsKICAgICAgdGhpcy5wYWdlTnVtYmVyLS07CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbmJQYWdlc1Jlc3VsdDogZnVuY3Rpb24gbmJQYWdlc1Jlc3VsdCgpIHsKICAgICAgcmV0dXJuIHRoaXMucmVzdWx0Lm1ldGEubGFzdF9wYWdlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["FilmList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;;;;;;;;;;AAWA,OAAA,WAAA,MAAA,2BAAA;AACA,OAAA,SAAA,MAAA,4BAAA;AACA,OAAA,SAAA,MAAA,4BAAA;AACA,OAAA,QAAA,MAAA,2BAAA;AACA,OAAA,iBAAA,MAAA,oCAAA;AACA,OAAA,eAAA,MAAA,kCAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KADA;AAMA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AANA,GADA;AAYA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,SAAA,EAAA,SAFA;AAGA,IAAA,QAAA,EAAA,QAHA;AAIA,IAAA,iBAAA,EAAA,iBAJA;AAKA,IAAA,eAAA,EAAA;AALA,GAZA;AAmBA,EAAA,IAnBA,kBAmBA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,CAFA;AAGA,MAAA,KAAA,EAAA,IAHA;AAIA,MAAA,aAAA,EAAA;AAJA,KAAA;AAOA,GA3BA;AA4BA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA,mBAAA;AACA,WAAA,YAAA;AACA,KAHA;AAIA,IAAA,UAAA,EAAA,sBAAA;AACA,WAAA,YAAA;AACA,KANA;AAOA,IAAA,OAAA,EAAA,mBAAA;AACA,WAAA,UAAA,GAAA,CAAA;AACA;AATA,GA5BA;AAuCA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,MAAA,WAAA,CAAA,iBAAA,CAAA,KAAA,OAAA,EAAA,KAAA,UAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,WAAA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AACA,OAPA;AAQA,KAVA;AAWA,IAAA,WAXA,yBAWA;AACA,WAAA,aAAA,GAAA,mBAAA,KAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,YAAA,QAAA,GAAA,CAAA,CAAA;AACA,YAAA,CAAA,CAAA,YAAA,GAAA,CAAA,CAAA,YAAA,EAAA,OAAA,CAAA,CAAA,GAAA,QAAA;AACA,YAAA,CAAA,CAAA,YAAA,GAAA,CAAA,CAAA,YAAA,EAAA,OAAA,IAAA,QAAA;AACA,eAAA,CAAA;AACA,OALA,CAAA;AAMA,KAlBA;AAmBA,IAAA,YAnBA,wBAmBA,EAnBA,EAmBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,YAAA,EAAA;AACA,WAAA,OAAA,CAAA,EAAA;AACA,KAtBA;AAuBA,IAAA,cAvBA,4BAuBA;AACA;AACA,WAAA,UAAA,GAFA,CAGA;AACA,KA3BA;AA4BA,IAAA,kBA5BA,gCA4BA;AACA,WAAA,UAAA;AACA;AA9BA,GAvCA;AAuEA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,CAAA,SAAA;AACA;AAHA;AAvEA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <section v-if=\"result.meta.total ==0\">\r\n            <h1>No match was found for \"{{keyword}}\"</h1>     \r\n        </section>\r\n        <section v-else>\r\n            <h1>{{result.meta.total}} matches were found for \"{{keyword}}\"   </h1>\r\n            <button v-if=\"pageNumber > 1\" @click=\"previousPageNumber\" > Previous page </button>\r\n            <button v-if=\"pageNumber < nbPagesResult\" @click=\"nextPageNumber\" > Next page </button>\r\n            <ul class=\"filmList\" v-for=\"movie in sortedResults\" :key=\"movie.id\">\r\n                <li  class=\"filmTitle\" > <h2> <film-title :filmInfos=\"movie\" /></h2>  </li>\r\n                <li class=\"filmImages\" > <film-image :filmInfos=\"movie\" :width=\"200\" :height=\"200\" />  </li>\r\n                <li> (<film-year :filmInfos=\"movie\" />) </li> \r\n                <li id=\"rating\"> <film-review-display :filmInfos=\"movie\" /> </li>\r\n                <li> <film-description :filmInfos=\"movie\" :nbCharToDisplay=\"100\" /> </li>\r\n                <li><button id=\"filmButton\" class=\"filmPageButton\" @click=\"showFilmPage(movie.id)\">Consulter ce film </button></li>\r\n            </ul>\r\n            \r\n        </section>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n/*\r\n<ul class=\"films\">\r\n            <h1>{{result.meta.total}} results founds</h1>\r\n            <ul>\r\n                <div class=\"filmListLi\" v-for=\"movie in sortedResults\" :key=\"movie.id\"> <film-list-details :filmId=\"movie.id\" /> </div>\r\n                \r\n            </ul>\r\n    \r\n            \r\n        </ul>\r\n*/\r\nimport FilmService from '@/services/FilmService.js';\r\nimport FilmImage from '@/components/FilmImage.vue';\r\nimport FilmTitle from '@/components/FilmTitle.vue';\r\nimport FilmYear from '@/components/FilmYear.vue';\r\nimport FilmReviewDisplay from '@/components/FilmReviewDisplay.vue';\r\nimport FilmDescription from '@/components/FilmDescription.vue';\r\n    export default {\r\n        props: {\r\n            keyword: {\r\n                type: String,\r\n                default: null,\r\n                required : true\r\n            },\r\n            clicked : {\r\n                type: Boolean,\r\n                default: false\r\n            }\r\n        },\r\n        components: {\r\n            FilmImage,\r\n            FilmTitle,\r\n            FilmYear,\r\n            FilmReviewDisplay,\r\n            FilmDescription\r\n        },\r\n        data() {\r\n            return {\r\n                result: Array,\r\n                pageNumber: 1,\r\n                error : null,\r\n                sortedResults : {}\r\n\r\n            }\r\n        },\r\n        watch: {\r\n            keyword : function() {   \r\n                this.fetchResults();         \r\n            },\r\n            pageNumber : function() {\r\n                this.fetchResults();\r\n            },\r\n            clicked : function(){\r\n                this.pageNumber =1;\r\n            }\r\n        },\r\n        methods: {\r\n            fetchResults() {\r\n                FilmService.getFilmsByKeyword(this.keyword,this.pageNumber)\r\n                .then(response => {\r\n                this.result = response.data;\r\n                this.sortResults();\r\n                })\r\n                .catch(error => {\r\n                this.error = error;\r\n                });\r\n            },\r\n            sortResults(){\r\n                this.sortedResults = [...this.result.data].sort((a,b) => {\r\n                        let modifier = -1;\r\n                        if(a.release_year < b.release_year) return -1 * modifier;\r\n                        if(a.release_year > b.release_year) return 1 * modifier;\r\n                        return 0;\r\n                })   \r\n            },\r\n            showFilmPage(id) {\r\n                this.$router.push('/films/'+id);\r\n                this.$router.go();\r\n            },\r\n            nextPageNumber(){\r\n                //if(this.pageNumber < nbPagesResult) {\r\n                    this.pageNumber++;\r\n                //}\r\n            },\r\n            previousPageNumber(){\r\n                this.pageNumber--;\r\n            }\r\n        },    \r\n        computed: {\r\n            nbPagesResult() {\r\n                return this.result.meta.last_page; \r\n            }\r\n        },\r\n    }   \r\n\r\n        \r\n\r\n        \r\n    \r\n</script>\r\n\r\n<style scoped>\r\n    ul\r\n{\r\n    list-style-type:none;\r\n    padding:0px;\r\n    margin:0px;\r\n}\r\n#filmButton  {\r\n    padding: 10px 40px 10px 40px;\r\n    font-weight: bold;\r\n    color: #E6B91E;\r\n    background-color: black;\r\n  }\r\n#filmRating{\r\n    padding-top: 15px;\r\n}\r\n#rating{\r\n    display: inline-block;\r\n    margin: auto;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}