{"remainingRequest":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\carlo\\Documents\\TP2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\carlo\\Documents\\TP2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\carlo\\Documents\\TP2\\src\\components\\HomeMoviesList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\carlo\\Documents\\TP2\\src\\components\\HomeMoviesList.vue","mtime":1588477673779},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL2NhcmxvL0RvY3VtZW50cy9UUDIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgRmlsbVNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9GaWxtU2VydmljZS5qcyc7CmltcG9ydCBGaWxtRGV0YWlscyBmcm9tICdAL2NvbXBvbmVudHMvRmlsbURldGFpbHMudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIZWxsb1dvcmxkJywKICBjb21wb25lbnRzOiB7CiAgICBGaWxtRGV0YWlsczogRmlsbURldGFpbHMKICB9LAogIHByb3BzOiB7CiAgICBmaWxtc0RhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnZXNEYXRhOiBbXSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbGFzdFBhZ2VOYjogZnVuY3Rpb24gbGFzdFBhZ2VOYigpIHsKICAgICAgaWYgKHRoaXMuZmlsbXNEYXRhICE9IG51bGwpIHsKICAgICAgICByZXR1cm4gdGhpcy5maWxtc0RhdGEubWV0YS5sYXN0X3BhZ2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkaW5nOiBmdW5jdGlvbiBsb2FkaW5nKCkgewogICAgICBpZiAodGhpcy5sYXN0UGFnZU5iID09IG51bGwpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBmaWxtc0RhdGE6IGZ1bmN0aW9uIGZpbG1zRGF0YSgpIHsKICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRJZFRvRGF0YTogZnVuY3Rpb24gYWRkSWRUb0RhdGEoZGF0YUFycmF5KSB7CiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihkYXRhQXJyYXkpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgdGhpcy5wYWdlc0RhdGEucHVzaChkYXRhWydpZCddKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfSwKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5hbGwoW0ZpbG1TZXJ2aWNlLmdldEZpbG1zUGFnZSh0aGlzLmxhc3RQYWdlTmIpLCBGaWxtU2VydmljZS5nZXRGaWxtc1BhZ2UodGhpcy5sYXN0UGFnZU5iIC0gMSldKS50aGVuKGF4aW9zLnNwcmVhZChmdW5jdGlvbiAobGFzdCwgc2Vjb25kTGFzdCkgewogICAgICAgIF90aGlzLmFkZElkVG9EYXRhKHNlY29uZExhc3QuZGF0YS5kYXRhKTsKCiAgICAgICAgX3RoaXMuYWRkSWRUb0RhdGEobGFzdC5kYXRhLmRhdGEpOyAvL3RoaXMucGFnZXNEYXRhLnB1c2goSlNPTi5zdHJpbmdpZnkoc2Vjb25kTGFzdC5kYXRhLmRhdGFbMF0pKSx0aGlzLnBhZ2VzRGF0YS5wdXNoKEpTT04uc3RyaW5naWZ5KGxhc3QuZGF0YS5kYXRhKSkvLyAsIHRoaXMucGFnZXNEYXRhLnB1c2goKGxhc3QuZGF0YS5kYXRhLmlkKS50b1N0cmluZykKCiAgICAgIH0pKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["HomeMoviesList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,WAAA,MAAA,2BAAA;AACA,OAAA,WAAA,MAAA,8BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GALA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAhBA;AAkBA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,KAAA,SAAA,IAAA,IAAA,EAAA;AACA,eAAA,KAAA,SAAA,CAAA,IAAA,CAAA,SAAA;AACA,OAFA,MAGA;AACA,eAAA,CAAA;AACA;AACA,KARA;AASA,IAAA,OATA,qBASA;AACA,UAAA,KAAA,UAAA,IAAA,IAAA,EAAA;AACA,eAAA,IAAA;AACA,OAFA,MAGA;AACA,eAAA,KAAA;AACA;AACA;AAhBA,GAlBA;AAoCA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA,qBAAA;AACA,WAAA,OAAA;AACA;AAHA,GApCA;AAyCA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,SADA,EACA;AAAA,iDACA,SADA;AAAA;;AAAA;AACA,4DAAA;AAAA,cAAA,IAAA;AACA,eAAA,SAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAIA,KALA;AAMA,IAAA,OANA,qBAMA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,CACA,WAAA,CAAA,YAAA,CAAA,KAAA,UAAA,CADA,EAEA,WAAA,CAAA,YAAA,CAAA,KAAA,UAAA,GAAA,CAAA,CAFA,CAAA,EAIA,IAJA,CAIA,KAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA,UAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,CAAA,UAAA,CAAA,IAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,WAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAFA,CAEA;;AACA,OAHA,CAJA;AASA;AAhBA;AAzCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"HomeMovieList\">\r\n    <section v-if=\"loading\">\r\n            <h2>Chargement en cours...</h2>\r\n    </section>\r\n    <section v-else>\r\n      <film-details :filmId=pagesData[pagesData.length-1] />\r\n      <film-details :filmId=pagesData[pagesData.length-2] />\r\n      <film-details :filmId=pagesData[pagesData.length-3] />\r\n    </section>\r\n    \r\n    <ul class=\"films\">\r\n     \r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport FilmService from '@/services/FilmService.js';\r\nimport FilmDetails from '@/components/FilmDetails.vue';\r\nexport default {\r\n  name: 'HelloWorld',\r\n  components: {\r\n   FilmDetails\r\n  },\r\n  props: {\r\n    filmsData: {\r\n      type : Object,\r\n      default : null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      pagesData: [],\r\n      required : true\r\n    }\r\n  },\r\n \r\n computed: {\r\n    lastPageNb() {\r\n      if (this.filmsData != null) {\r\n        return this.filmsData.meta.last_page;\r\n      }\r\n       else{\r\n         return 0;\r\n       }\r\n    },\r\n    loading() {\r\n      if(this.lastPageNb == null) {\r\n        return true;\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    filmsData: function() {\r\n      this.getData();\r\n    }\r\n  },\r\n  methods: {\r\n    addIdToData(dataArray) {\r\n      for (let data of dataArray) {\r\n        this.pagesData.push(data['id']);\r\n      }\r\n    },\r\n    getData() {\r\n       axios.all([\r\n      FilmService.getFilmsPage(this.lastPageNb),\r\n      FilmService.getFilmsPage(this.lastPageNb -1)\r\n      ])\r\n      .then(axios.spread((last, secondLast) => {\r\n      this.addIdToData(secondLast.data.data);\r\n      this.addIdToData(last.data.data); //this.pagesData.push(JSON.stringify(secondLast.data.data[0])),this.pagesData.push(JSON.stringify(last.data.data))// , this.pagesData.push((last.data.data.id).toString)\r\n    })\r\n  ); \r\n    }\r\n  },\r\n    \r\n\r\n}\r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components"}]}