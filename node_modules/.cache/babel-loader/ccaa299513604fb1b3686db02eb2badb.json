{"remainingRequest":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\carlo\\OneDrive\\Bureau\\test\\src\\components\\HomeMoviesList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\src\\components\\HomeMoviesList.vue","mtime":1588477673779},{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL2NhcmxvL09uZURyaXZlL0J1cmVhdS90ZXN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEZpbG1TZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvRmlsbVNlcnZpY2UuanMnOwppbXBvcnQgRmlsbURldGFpbHMgZnJvbSAnQC9jb21wb25lbnRzL0ZpbG1EZXRhaWxzLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSGVsbG9Xb3JsZCcsCiAgY29tcG9uZW50czogewogICAgRmlsbURldGFpbHM6IEZpbG1EZXRhaWxzCiAgfSwKICBwcm9wczogewogICAgZmlsbXNEYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhZ2VzRGF0YTogW10sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxhc3RQYWdlTmI6IGZ1bmN0aW9uIGxhc3RQYWdlTmIoKSB7CiAgICAgIGlmICh0aGlzLmZpbG1zRGF0YSAhPSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZmlsbXNEYXRhLm1ldGEubGFzdF9wYWdlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICB9LAogICAgbG9hZGluZzogZnVuY3Rpb24gbG9hZGluZygpIHsKICAgICAgaWYgKHRoaXMubGFzdFBhZ2VOYiA9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZmlsbXNEYXRhOiBmdW5jdGlvbiBmaWxtc0RhdGEoKSB7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYWRkSWRUb0RhdGE6IGZ1bmN0aW9uIGFkZElkVG9EYXRhKGRhdGFBcnJheSkgewogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZGF0YUFycmF5KSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGRhdGEgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIHRoaXMucGFnZXNEYXRhLnB1c2goZGF0YVsnaWQnXSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH0sCiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuYWxsKFtGaWxtU2VydmljZS5nZXRGaWxtc1BhZ2UodGhpcy5sYXN0UGFnZU5iKSwgRmlsbVNlcnZpY2UuZ2V0RmlsbXNQYWdlKHRoaXMubGFzdFBhZ2VOYiAtIDEpXSkudGhlbihheGlvcy5zcHJlYWQoZnVuY3Rpb24gKGxhc3QsIHNlY29uZExhc3QpIHsKICAgICAgICBfdGhpcy5hZGRJZFRvRGF0YShzZWNvbmRMYXN0LmRhdGEuZGF0YSk7CgogICAgICAgIF90aGlzLmFkZElkVG9EYXRhKGxhc3QuZGF0YS5kYXRhKTsgLy90aGlzLnBhZ2VzRGF0YS5wdXNoKEpTT04uc3RyaW5naWZ5KHNlY29uZExhc3QuZGF0YS5kYXRhWzBdKSksdGhpcy5wYWdlc0RhdGEucHVzaChKU09OLnN0cmluZ2lmeShsYXN0LmRhdGEuZGF0YSkpLy8gLCB0aGlzLnBhZ2VzRGF0YS5wdXNoKChsYXN0LmRhdGEuZGF0YS5pZCkudG9TdHJpbmcpCgogICAgICB9KSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["HomeMoviesList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,WAAA,MAAA,2BAAA;AACA,OAAA,WAAA,MAAA,8BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GALA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAhBA;AAkBA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,KAAA,SAAA,IAAA,IAAA,EAAA;AACA,eAAA,KAAA,SAAA,CAAA,IAAA,CAAA,SAAA;AACA,OAFA,MAGA;AACA,eAAA,CAAA;AACA;AACA,KARA;AASA,IAAA,OATA,qBASA;AACA,UAAA,KAAA,UAAA,IAAA,IAAA,EAAA;AACA,eAAA,IAAA;AACA,OAFA,MAGA;AACA,eAAA,KAAA;AACA;AACA;AAhBA,GAlBA;AAoCA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA,qBAAA;AACA,WAAA,OAAA;AACA;AAHA,GApCA;AAyCA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,SADA,EACA;AAAA,iDACA,SADA;AAAA;;AAAA;AACA,4DAAA;AAAA,cAAA,IAAA;AACA,eAAA,SAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAIA,KALA;AAMA,IAAA,OANA,qBAMA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,CACA,WAAA,CAAA,YAAA,CAAA,KAAA,UAAA,CADA,EAEA,WAAA,CAAA,YAAA,CAAA,KAAA,UAAA,GAAA,CAAA,CAFA,CAAA,EAIA,IAJA,CAIA,KAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA,UAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,CAAA,UAAA,CAAA,IAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,WAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAFA,CAEA;;AACA,OAHA,CAJA;AASA;AAhBA;AAzCA,CAAA","sourcesContent":["<template>\r\n  <div class=\"HomeMovieList\">\r\n    <section v-if=\"loading\">\r\n            <h2>Chargement en cours...</h2>\r\n    </section>\r\n    <section v-else>\r\n      <film-details :filmId=pagesData[pagesData.length-1] />\r\n      <film-details :filmId=pagesData[pagesData.length-2] />\r\n      <film-details :filmId=pagesData[pagesData.length-3] />\r\n    </section>\r\n    \r\n    <ul class=\"films\">\r\n     \r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport FilmService from '@/services/FilmService.js';\r\nimport FilmDetails from '@/components/FilmDetails.vue';\r\nexport default {\r\n  name: 'HelloWorld',\r\n  components: {\r\n   FilmDetails\r\n  },\r\n  props: {\r\n    filmsData: {\r\n      type : Object,\r\n      default : null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      pagesData: [],\r\n      required : true\r\n    }\r\n  },\r\n \r\n computed: {\r\n    lastPageNb() {\r\n      if (this.filmsData != null) {\r\n        return this.filmsData.meta.last_page;\r\n      }\r\n       else{\r\n         return 0;\r\n       }\r\n    },\r\n    loading() {\r\n      if(this.lastPageNb == null) {\r\n        return true;\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    filmsData: function() {\r\n      this.getData();\r\n    }\r\n  },\r\n  methods: {\r\n    addIdToData(dataArray) {\r\n      for (let data of dataArray) {\r\n        this.pagesData.push(data['id']);\r\n      }\r\n    },\r\n    getData() {\r\n       axios.all([\r\n      FilmService.getFilmsPage(this.lastPageNb),\r\n      FilmService.getFilmsPage(this.lastPageNb -1)\r\n      ])\r\n      .then(axios.spread((last, secondLast) => {\r\n      this.addIdToData(secondLast.data.data);\r\n      this.addIdToData(last.data.data); //this.pagesData.push(JSON.stringify(secondLast.data.data[0])),this.pagesData.push(JSON.stringify(last.data.data))// , this.pagesData.push((last.data.data.id).toString)\r\n    })\r\n  ); \r\n    }\r\n  },\r\n    \r\n\r\n}\r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components"}]}