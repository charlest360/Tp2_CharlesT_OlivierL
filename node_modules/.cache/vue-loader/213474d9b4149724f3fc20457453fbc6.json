{"remainingRequest":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\carlo\\Documents\\TP2\\src\\components\\addCritic.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\carlo\\Documents\\TP2\\src\\components\\addCritic.vue","mtime":1590008176960},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTdGFyUmF0aW5nIGZyb20gJ3Z1ZS1zdGFyLXJhdGluZyc7CmltcG9ydCBGaWxtU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL0ZpbG1TZXJ2aWNlLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgICAgIFN0YXJSYXRpbmcsCiAgICB9LAogICAgcHJvcHM6IHsKICAgICAgICBmaWxtSWQ6IHsKICAgICAgICAgICAgZGVmYXVsdDogbnVsbCwKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB9LAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcmF0aW5nOiAwLAogICAgICAgICAgICBjb21tZW50OiAnJywKICAgICAgICAgICAgcmVzcG9uc2U6IG51bGwsCiAgICAgICAgICAgIGVycm9yOiBudWxsLAogICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3JzOiBbXSwKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHZhbGlkYXRlQW5kU2VuZCgpIHsKICAgICAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7CiAgICAgICAgICAgIGlmKHRoaXMudmFsaWRhdGVEYXRhKCkgPT0gdHJ1ZSl7CiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICB1c2VyX2lkIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkJyksCiAgICAgICAgICAgICAgICAgICAgZmlsbV9pZCA6IHRoaXMuZmlsbUlkLAogICAgICAgICAgICAgICAgICAgIHNjb3JlIDogdGhpcy5yYXRpbmcsCiAgICAgICAgICAgICAgICAgICAgY29tbWVudCA6IHRoaXMuY29tbWVudCwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEZpbG1TZXJ2aWNlLmFkZENyaXRpYyhkYXRhLGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB2YWxpZGF0ZURhdGEoKXsKICAgICAgICAgICAgdGhpcy52YWxpZGF0aW9uRXJyb3JzID0gW107CiAgICAgICAgICAgIGlmKHRoaXMuY29tbWVudCAhPSAnJyAmJiB0aGlzLmNvbW1lbnQubGVuZ3RoID4gMjUwKXsKICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycy5wdXNoKHt0eXBlOidjb21tZW50JyxtZXNzYWdlOidDb21tZW50IGZpZWxkIGNhbiBob2xkIGEgbWF4IG9mIDI1MCBjYXJhY3RlcnMuJ30pOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0sCiAgICB9LAogICAgCn0K"},{"version":3,"sources":["addCritic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"addCritic.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    \r\n    <div class=\"reviewForm\">\r\n        <div v-if=\"error != null\">\r\n            <span style=\"color:red;font-size:25px;\" > Login failed</span>\r\n        </div>\r\n        <div v-if=\"response != null\">\r\n            <span style=\"color:green;font-size:35px;\"> Login successful! </span>\r\n        </div>\r\n        <div v-else>\r\n             <h2>My Review :</h2>\r\n        \r\n         <form @submit.prevent=\"validateAndSend\" >\r\n            <div class='ratingDiv'>\r\n                <span > Ranking : </span>\r\n                <star-rating id=\"rating\"\r\n                    v-model=\"rating\"           \r\n                    v-bind:increment=\"0.5\"\r\n                    v-bind:max-rating=\"5\"\r\n                    inactive-color=\"#dbdbdb\"\r\n                    active-color=\"#cc1166\"\r\n                    v-bind:star-size=\"20\"\r\n                    border-color=\"fcdc6d\"\r\n                    :rating=\"criticsAverage\" \r\n                /> \r\n            </div>\r\n             \r\n            <div class=\"commentDiv\">\r\n                <textarea  v-model=\"comment\"   id=\"commentInput\" rows=\"4\" cols=\"50 \" placeholder=\"Comment your review\"/>\r\n                \r\n            </div>\r\n            <div v-if=\"validationErrors.length >= 1 && validationErrors[0].type == 'comment' \"> \r\n                    <span style=\"color:red;\">{{validationErrors[0].message}} </span>\r\n            </div>\r\n             <button @click=\"validateAndSend\" id=\"submitButton\" >\r\n                        Submit Review\r\n            </button>\r\n        </form>\r\n        </div>\r\n       \r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import StarRating from 'vue-star-rating';\r\n    import FilmService from '@/services/FilmService.js';\r\n    export default {\r\n        components: {\r\n            StarRating,\r\n        },\r\n        props: {\r\n            filmId: {\r\n                default: null,\r\n                required: true\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                rating: 0,\r\n                comment: '',\r\n                response: null,\r\n                error: null,\r\n                validationErrors: [],\r\n            }\r\n        },\r\n        methods: {\r\n            validateAndSend() {\r\n                this.error = null;\r\n                if(this.validateData() == true){\r\n                    let data = {\r\n                        user_id : localStorage.getItem('id'),\r\n                        film_id : this.filmId,\r\n                        score : this.rating,\r\n                        comment : this.comment,\r\n                    }\r\n                    FilmService.addCritic(data,localStorage.getItem('token'))\r\n                    .then(response => {\r\n                    this.response = response.data;\r\n                    })\r\n                    .catch(error => {\r\n                    this.error = error;\r\n                    });\r\n                }\r\n            },\r\n            validateData(){\r\n                this.validationErrors = [];\r\n                if(this.comment != '' && this.comment.length > 250){\r\n                    this.validationErrors.push({type:'comment',message:'Comment field can hold a max of 250 caracters.'});\r\n                    return false;\r\n                }\r\n                return true;\r\n            },\r\n        },\r\n        \r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.ratingDiv{\r\n    margin-left: 10%;\r\n    \r\n    text-align: left;\r\n    font-size:20px;\r\n}\r\n.commentDiv{\r\n    margin-left: 10%;\r\n    margin-right: 10%;\r\n    text-align: center;\r\n    font-size:20px;\r\n}\r\n.reviewForm{\r\n    \r\n    padding-top: 10px;\r\n    padding-bottom :40px;\r\n    text-align: center;\r\n    margin: auto;\r\n    width:60%;\r\n    background-color: #fcdc6d;\r\n    border: 1px solid black;\r\n    margin-top:20px;\r\n}\r\n#commentInput{\r\n    width: 100%;\r\n}\r\n#rating{\r\n    margin: auto;\r\n    display: inline-block;\r\n}\r\n    #submitButton {\r\n        margin-top: 20px ;\r\n        width: 50%;\r\n        font-size: 20px;\r\n        padding-top: 10px;\r\n        padding-bottom: 10px;\r\n        font-weight: bold;\r\n        color: #E6B91E;\r\n        background-color: black;\r\n        \r\n    }\r\n    .hidden {\r\n        display: none;\r\n    }\r\n    .error {\r\n        float: left;\r\n    }\r\n   \r\n</style>"]}]}