{"remainingRequest":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\carlo\\OneDrive\\Bureau\\test\\src\\components\\FilmList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\src\\components\\FilmList.vue","mtime":1588555807231},{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\OneDrive\\Bureau\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovKg0KPHVsIGNsYXNzPSJmaWxtcyI+DQogICAgICAgICAgICA8aDE+e3tyZXN1bHQubWV0YS50b3RhbH19IHJlc3VsdHMgZm91bmRzPC9oMT4NCiAgICAgICAgICAgIDx1bD4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxtTGlzdExpIiB2LWZvcj0ibW92aWUgaW4gc29ydGVkUmVzdWx0cyIgOmtleT0ibW92aWUuaWQiPiA8ZmlsbS1saXN0LWRldGFpbHMgOmZpbG1JZD0ibW92aWUuaWQiIC8+IDwvZGl2Pg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgPC91bD4NCiAgICANCiAgICAgICAgICAgIA0KICAgICAgICA8L3VsPg0KKi8NCmltcG9ydCBGaWxtU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL0ZpbG1TZXJ2aWNlLmpzJzsNCmltcG9ydCBGaWxtSW1hZ2UgZnJvbSAnQC9jb21wb25lbnRzL0ZpbG1JbWFnZS52dWUnOw0KaW1wb3J0IEZpbG1UaXRsZSBmcm9tICdAL2NvbXBvbmVudHMvRmlsbVRpdGxlLnZ1ZSc7DQppbXBvcnQgRmlsbVllYXIgZnJvbSAnQC9jb21wb25lbnRzL0ZpbG1ZZWFyLnZ1ZSc7DQppbXBvcnQgRmlsbVJldmlld0Rpc3BsYXkgZnJvbSAnQC9jb21wb25lbnRzL0ZpbG1SZXZpZXdEaXNwbGF5LnZ1ZSc7DQppbXBvcnQgRmlsbURlc2NyaXB0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9GaWxtRGVzY3JpcHRpb24udnVlJzsNCiAgICBleHBvcnQgZGVmYXVsdCB7DQogICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICBrZXl3b3JkOiB7DQogICAgICAgICAgICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsDQogICAgICAgICAgICAgICAgcmVxdWlyZWQgOiB0cnVlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY2xpY2tlZCA6IHsNCiAgICAgICAgICAgICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNvbXBvbmVudHM6IHsNCiAgICAgICAgICAgIEZpbG1JbWFnZSwNCiAgICAgICAgICAgIEZpbG1UaXRsZSwNCiAgICAgICAgICAgIEZpbG1ZZWFyLA0KICAgICAgICAgICAgRmlsbVJldmlld0Rpc3BsYXksDQogICAgICAgICAgICBGaWxtRGVzY3JpcHRpb24NCiAgICAgICAgfSwNCiAgICAgICAgZGF0YSgpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgcmVzdWx0OiBBcnJheSwNCiAgICAgICAgICAgICAgICBwYWdlTnVtYmVyOiAxLA0KICAgICAgICAgICAgICAgIGVycm9yIDogbnVsbCwNCiAgICAgICAgICAgICAgICBzb3J0ZWRSZXN1bHRzIDoge30NCg0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICB3YXRjaDogew0KICAgICAgICAgICAga2V5d29yZCA6IGZ1bmN0aW9uKCkgeyAgIA0KICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hSZXN1bHRzKCk7ICAgICAgICAgDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcGFnZU51bWJlciA6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hSZXN1bHRzKCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY2xpY2tlZCA6IGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgdGhpcy5wYWdlTnVtYmVyID0xOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBtZXRob2RzOiB7DQogICAgICAgICAgICBmZXRjaFJlc3VsdHMoKSB7DQogICAgICAgICAgICAgICAgRmlsbVNlcnZpY2UuZ2V0RmlsbXNCeUtleXdvcmQodGhpcy5rZXl3b3JkLHRoaXMucGFnZU51bWJlcikNCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICAgICAgICAgIHRoaXMuc29ydFJlc3VsdHMoKTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHNvcnRSZXN1bHRzKCl7DQogICAgICAgICAgICAgICAgdGhpcy5zb3J0ZWRSZXN1bHRzID0gWy4uLnRoaXMucmVzdWx0LmRhdGFdLnNvcnQoKGEsYikgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGlmaWVyID0gLTE7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihhLnJlbGVhc2VfeWVhciA8IGIucmVsZWFzZV95ZWFyKSByZXR1cm4gLTEgKiBtb2RpZmllcjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGEucmVsZWFzZV95ZWFyID4gYi5yZWxlYXNlX3llYXIpIHJldHVybiAxICogbW9kaWZpZXI7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgICAgICB9KSAgIA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHNob3dGaWxtUGFnZShpZCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvZmlsbXMvJytpZCk7DQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgbmV4dFBhZ2VOdW1iZXIoKXsNCiAgICAgICAgICAgICAgICAvL2lmKHRoaXMucGFnZU51bWJlciA8IG5iUGFnZXNSZXN1bHQpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlTnVtYmVyKys7DQogICAgICAgICAgICAgICAgLy99DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcHJldmlvdXNQYWdlTnVtYmVyKCl7DQogICAgICAgICAgICAgICAgdGhpcy5wYWdlTnVtYmVyLS07DQogICAgICAgICAgICB9DQogICAgICAgIH0sICAgIA0KICAgICAgICBjb21wdXRlZDogew0KICAgICAgICAgICAgbmJQYWdlc1Jlc3VsdCgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHQubWV0YS5sYXN0X3BhZ2U7IA0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgIH0gICANCg0KICAgICAgICANCg0KICAgICAgICANCiAgICANCg=="},{"version":3,"sources":["FilmList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FilmList.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <section v-if=\"result.meta.total ==0\">\r\n            <h1>No match was found for \"{{keyword}}\"</h1>     \r\n        </section>\r\n        <section v-else>\r\n            <h1>{{result.meta.total}} matches were found for \"{{keyword}}\"   </h1>\r\n            <button v-if=\"pageNumber > 1\" @click=\"previousPageNumber\" > Previous page </button>\r\n            <button v-if=\"pageNumber < nbPagesResult\" @click=\"nextPageNumber\" > Next page </button>\r\n            <ul class=\"filmList\" v-for=\"movie in sortedResults\" :key=\"movie.id\">\r\n                <li  class=\"filmTitle\" > <h2> <film-title :filmInfos=\"movie\" /></h2>  </li>\r\n                <li class=\"filmImages\" > <film-image :filmInfos=\"movie\" :width=\"200\" :height=\"200\" />  </li>\r\n                <li> (<film-year :filmInfos=\"movie\" />) </li> \r\n                <li id=\"rating\"> <film-review-display :filmInfos=\"movie\" /> </li>\r\n                <li> <film-description :filmInfos=\"movie\" :nbCharToDisplay=\"100\" /> </li>\r\n                <li><button id=\"filmButton\" class=\"filmPageButton\" @click=\"showFilmPage(movie.id)\">Consulter ce film </button></li>\r\n            </ul>\r\n            \r\n        </section>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n/*\r\n<ul class=\"films\">\r\n            <h1>{{result.meta.total}} results founds</h1>\r\n            <ul>\r\n                <div class=\"filmListLi\" v-for=\"movie in sortedResults\" :key=\"movie.id\"> <film-list-details :filmId=\"movie.id\" /> </div>\r\n                \r\n            </ul>\r\n    \r\n            \r\n        </ul>\r\n*/\r\nimport FilmService from '@/services/FilmService.js';\r\nimport FilmImage from '@/components/FilmImage.vue';\r\nimport FilmTitle from '@/components/FilmTitle.vue';\r\nimport FilmYear from '@/components/FilmYear.vue';\r\nimport FilmReviewDisplay from '@/components/FilmReviewDisplay.vue';\r\nimport FilmDescription from '@/components/FilmDescription.vue';\r\n    export default {\r\n        props: {\r\n            keyword: {\r\n                type: String,\r\n                default: null,\r\n                required : true\r\n            },\r\n            clicked : {\r\n                type: Boolean,\r\n                default: false\r\n            }\r\n        },\r\n        components: {\r\n            FilmImage,\r\n            FilmTitle,\r\n            FilmYear,\r\n            FilmReviewDisplay,\r\n            FilmDescription\r\n        },\r\n        data() {\r\n            return {\r\n                result: Array,\r\n                pageNumber: 1,\r\n                error : null,\r\n                sortedResults : {}\r\n\r\n            }\r\n        },\r\n        watch: {\r\n            keyword : function() {   \r\n                this.fetchResults();         \r\n            },\r\n            pageNumber : function() {\r\n                this.fetchResults();\r\n            },\r\n            clicked : function(){\r\n                this.pageNumber =1;\r\n            }\r\n        },\r\n        methods: {\r\n            fetchResults() {\r\n                FilmService.getFilmsByKeyword(this.keyword,this.pageNumber)\r\n                .then(response => {\r\n                this.result = response.data;\r\n                this.sortResults();\r\n                })\r\n                .catch(error => {\r\n                this.error = error;\r\n                });\r\n            },\r\n            sortResults(){\r\n                this.sortedResults = [...this.result.data].sort((a,b) => {\r\n                        let modifier = -1;\r\n                        if(a.release_year < b.release_year) return -1 * modifier;\r\n                        if(a.release_year > b.release_year) return 1 * modifier;\r\n                        return 0;\r\n                })   \r\n            },\r\n            showFilmPage(id) {\r\n                this.$router.push('/films/'+id);\r\n                this.$router.go();\r\n            },\r\n            nextPageNumber(){\r\n                //if(this.pageNumber < nbPagesResult) {\r\n                    this.pageNumber++;\r\n                //}\r\n            },\r\n            previousPageNumber(){\r\n                this.pageNumber--;\r\n            }\r\n        },    \r\n        computed: {\r\n            nbPagesResult() {\r\n                return this.result.meta.last_page; \r\n            }\r\n        },\r\n    }   \r\n\r\n        \r\n\r\n        \r\n    \r\n</script>\r\n\r\n<style scoped>\r\n    ul\r\n{\r\n    list-style-type:none;\r\n    padding:0px;\r\n    margin:0px;\r\n}\r\n#filmButton  {\r\n    padding: 10px 40px 10px 40px;\r\n    font-weight: bold;\r\n    color: #E6B91E;\r\n    background-color: black;\r\n  }\r\n#filmRating{\r\n    padding-top: 15px;\r\n}\r\n#rating{\r\n    display: inline-block;\r\n    margin: auto;\r\n}\r\n</style>"]}]}