{"remainingRequest":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\carlo\\Documents\\TP2\\src\\components\\FilmList.vue?vue&type=style&index=0&id=62d8311c&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\carlo\\Documents\\TP2\\src\\components\\FilmList.vue","mtime":1588555807231},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\carlo\\Documents\\TP2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgIHVsCnsKICAgIGxpc3Qtc3R5bGUtdHlwZTpub25lOwogICAgcGFkZGluZzowcHg7CiAgICBtYXJnaW46MHB4Owp9CiNmaWxtQnV0dG9uICB7CiAgICBwYWRkaW5nOiAxMHB4IDQwcHggMTBweCA0MHB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBjb2xvcjogI0U2QjkxRTsKICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOwogIH0KI2ZpbG1SYXRpbmd7CiAgICBwYWRkaW5nLXRvcDogMTVweDsKfQojcmF0aW5newogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgbWFyZ2luOiBhdXRvOwp9Cg=="},{"version":3,"sources":["FilmList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FilmList.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <section v-if=\"result.meta.total ==0\">\r\n            <h1>No match was found for \"{{keyword}}\"</h1>     \r\n        </section>\r\n        <section v-else>\r\n            <h1>{{result.meta.total}} matches were found for \"{{keyword}}\"   </h1>\r\n            <button v-if=\"pageNumber > 1\" @click=\"previousPageNumber\" > Previous page </button>\r\n            <button v-if=\"pageNumber < nbPagesResult\" @click=\"nextPageNumber\" > Next page </button>\r\n            <ul class=\"filmList\" v-for=\"movie in sortedResults\" :key=\"movie.id\">\r\n                <li  class=\"filmTitle\" > <h2> <film-title :filmInfos=\"movie\" /></h2>  </li>\r\n                <li class=\"filmImages\" > <film-image :filmInfos=\"movie\" :width=\"200\" :height=\"200\" />  </li>\r\n                <li> (<film-year :filmInfos=\"movie\" />) </li> \r\n                <li id=\"rating\"> <film-review-display :filmInfos=\"movie\" /> </li>\r\n                <li> <film-description :filmInfos=\"movie\" :nbCharToDisplay=\"100\" /> </li>\r\n                <li><button id=\"filmButton\" class=\"filmPageButton\" @click=\"showFilmPage(movie.id)\">Consulter ce film </button></li>\r\n            </ul>\r\n            \r\n        </section>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n/*\r\n<ul class=\"films\">\r\n            <h1>{{result.meta.total}} results founds</h1>\r\n            <ul>\r\n                <div class=\"filmListLi\" v-for=\"movie in sortedResults\" :key=\"movie.id\"> <film-list-details :filmId=\"movie.id\" /> </div>\r\n                \r\n            </ul>\r\n    \r\n            \r\n        </ul>\r\n*/\r\nimport FilmService from '@/services/FilmService.js';\r\nimport FilmImage from '@/components/FilmImage.vue';\r\nimport FilmTitle from '@/components/FilmTitle.vue';\r\nimport FilmYear from '@/components/FilmYear.vue';\r\nimport FilmReviewDisplay from '@/components/FilmReviewDisplay.vue';\r\nimport FilmDescription from '@/components/FilmDescription.vue';\r\n    export default {\r\n        props: {\r\n            keyword: {\r\n                type: String,\r\n                default: null,\r\n                required : true\r\n            },\r\n            clicked : {\r\n                type: Boolean,\r\n                default: false\r\n            }\r\n        },\r\n        components: {\r\n            FilmImage,\r\n            FilmTitle,\r\n            FilmYear,\r\n            FilmReviewDisplay,\r\n            FilmDescription\r\n        },\r\n        data() {\r\n            return {\r\n                result: Array,\r\n                pageNumber: 1,\r\n                error : null,\r\n                sortedResults : {}\r\n\r\n            }\r\n        },\r\n        watch: {\r\n            keyword : function() {   \r\n                this.fetchResults();         \r\n            },\r\n            pageNumber : function() {\r\n                this.fetchResults();\r\n            },\r\n            clicked : function(){\r\n                this.pageNumber =1;\r\n            }\r\n        },\r\n        methods: {\r\n            fetchResults() {\r\n                FilmService.getFilmsByKeyword(this.keyword,this.pageNumber)\r\n                .then(response => {\r\n                this.result = response.data;\r\n                this.sortResults();\r\n                })\r\n                .catch(error => {\r\n                this.error = error;\r\n                });\r\n            },\r\n            sortResults(){\r\n                this.sortedResults = [...this.result.data].sort((a,b) => {\r\n                        let modifier = -1;\r\n                        if(a.release_year < b.release_year) return -1 * modifier;\r\n                        if(a.release_year > b.release_year) return 1 * modifier;\r\n                        return 0;\r\n                })   \r\n            },\r\n            showFilmPage(id) {\r\n                this.$router.push('/films/'+id);\r\n                this.$router.go();\r\n            },\r\n            nextPageNumber(){\r\n                //if(this.pageNumber < nbPagesResult) {\r\n                    this.pageNumber++;\r\n                //}\r\n            },\r\n            previousPageNumber(){\r\n                this.pageNumber--;\r\n            }\r\n        },    \r\n        computed: {\r\n            nbPagesResult() {\r\n                return this.result.meta.last_page; \r\n            }\r\n        },\r\n    }   \r\n\r\n        \r\n\r\n        \r\n    \r\n</script>\r\n\r\n<style scoped>\r\n    ul\r\n{\r\n    list-style-type:none;\r\n    padding:0px;\r\n    margin:0px;\r\n}\r\n#filmButton  {\r\n    padding: 10px 40px 10px 40px;\r\n    font-weight: bold;\r\n    color: #E6B91E;\r\n    background-color: black;\r\n  }\r\n#filmRating{\r\n    padding-top: 15px;\r\n}\r\n#rating{\r\n    display: inline-block;\r\n    margin: auto;\r\n}\r\n</style>"]}]}